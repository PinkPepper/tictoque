{% extends 'base.html.twig' %}

{% block body %}
    <header>
        <img src="{{ asset('img/logo_CMS.png') }}">
        <div>
                <img src="{{ asset('img/'~app.user.image) }}">

                <span>{{ app.user.username }}</span><br>
                <span>{% if app.user.roles.0=="ROLE_ADMIN" %}
                        Administrateur
                        {% else %}
                        Utilisateur
                        {% endif %}
                </span>
        </div>

        <ul>
            <li><img src="{{ asset('img/information-ico.svg') }}" type="svg"></li>
            <li><img src="{{ asset('img/notification-ico.svg') }}" type="svg"></li>
            <li><a href="{{ path('fos_user_security_logout') }}"><img src="{{ asset('img/deconnexion-ico.svg') }}" type="svg"></a></li>
        </ul>
    </header>

<aside>
        
    <ul>
        <li><a>Tableau de board</a></li>
        <li><a>Categories</a></li>
        <li><a>Produits</a></li>
        <li><a>Boutiques</a></li>
        <li><a>Offres promo</a></li>
        <li><a>Articles</a></li>
        <li><a>Commandes du site</a></li>
        <li><a>Stock</a></li>
        <li><a>Livraison</a></li>
        <li><a>Préférences système</a></li>


    </ul>
</aside>
    <section class="user_content">
        <p></p>
        <content>

        <div class="nav_pos">
            <h1>Utilisateurs</h1> 
            <p>({{ users|length }})</p>
            <p>
        </div>

        <div class="user_interact">
            <a href="{{ path('user_new') }}"><button class="button_p">Ajouter<img type="svg" src="{{ asset('img/puce-right.svg') }}"></button></a>

            <input type="text" name="search" placeholder="Search..."></input>

        </div>
            
        </content>



        <table>
            
            <tr>
                <th class="user_check"><input type="checkbox" name="checkbox"></input></th>
                <th>ID</th>
                <th>Utilisateurs</th>
                <th>Rôle</th>
                <th>Date de creation</th>
                <th>Voir le profil</th>
            </tr>
            {% for user in users %}
            <tr>
                
                <th class="user_check"><input type="checkbox" name="checkbox"></input></th>
                <th class="info"><a href="{{ path('user_show', { 'id': user.id }) }}">{{ user.id }}</a></th>
                <th>
                    {{ user.username }}
                    <div>
                        <a href="{{ path('user_edit' ,{ 'id': user.id }) }}" class="user_modif">Modifier</a>
                        <a href="{{ path('user_delete' ,{ 'id': user.id }) }}" class="user_delete">Supprimer</a>
                    </div>
                </th>
                <th class="info">{% if user.roles.0=="ROLE_ADMIN" %}
                        Administrateur
                        {% else %}
                        Utilisateur
                        {% endif %}</th>
                <th class="info">{% if user.lastLogin!=null %}{{ user.lastLogin.date|date('d/m/Y') }}
                {% else %}
                Jamais connecté
                {% endif %}</th>
                <th class="info"><a href="{{ path('user_show', { 'id': user.id }) }}" class="user_show">Afficher<a></th>


            </tr>
            {% endfor %}

            <tr class="user_pagination">
                <th>
                    <ul class="pagination">
                        <li><a class="user_page">1</a></li>
                        <li><a class="user_page">2</a></li>
                        <li><a class="user_page">3</a></li>
                        <li><a class="user_page">4</a></li>
                    </ul>
                </th>
            </tr>

        </table>


    </section>
{% endblock %}
